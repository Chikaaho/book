<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>

    .inp{
        margin-top: 40px;
    }
</style>
<link rel="stylesheet" href="./dhl.css">
<link rel="stylesheet" href="../static/dhl.css">
<body style="margin: 0">
<ul id="nav">
    <li><a th:href="@{/books/toIndex}">首页</a></li>
    <li><a th:href="@{/books/tpAddPage}">添加图书</a></li>
    <li><a th:href="@{/books/toUpdatePage}">更新图书</a></li>
</ul>
<table style=" border:0">
    <tr>
        <th style="width:1500px; height:150px; border:1px;" >
            <center>
                <table>
                    <th style="font-size: 50px;color: #fd7e14">图书管理系统 </th>
                </table>
            </center>
        </th>
    </tr>
</table>
<center>
    <div id="login" style="font-weight: bolder;width: 700px;height: 480px;border: 1px black solid;border-radius: 2%">
        <!--<div><img src="../static/img/index_logo.jpg" alt="图书馆" style="border-radius: 30%;width: 150px;height: 150px" class="inp"></div>
        <div>账号：<input type="text" class="inp" id="user"></div>
        <div>密码：<input type="password" class="inp" id="passwprd"></div>
        <div><input type="submit" value="登录" class="inp" onclick="login()"></div>
        <div class="inp"><a href="./user/register.html"  style="text-decoration: none;color: red">还没有账号？点击我来注册一个</a></div>
        <P th:text="${BOOK_NULL_MESSAGE}"></P>-->
        <form action="/user/loginCheck" method="post">
            <div>账号：<input type="text" class="inp" id="user" name="username"></div>
            <div>密码：<input type="password" class="inp" id="password" name="password"></div>
            <div><input type="submit" value="登录" class="inp"></div>
        </form>
        <div class="inp"><a th:href="@{/user/toRegistPage}"  style="text-decoration: none;color: red">还没有账号？点击我来注册一个</a></div>
    </div>

</center>
<div style="position: fixed;bottom: 0;left: 50%;right: 50%;width: 100px">&copy;由XXX制作</div>

</body>
</html>
<script type="text/javascript" src="jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../static/jquery-3.5.1.min.js"></script>
<script>
    function login(){
        if($('#user').val()&&$('#passwprd').val()){
            $.ajax('http://localhost:8080/loginCheck',{
                data:{'id':$('#user').val(),'pwd':$('#password').val()},
                type:'POST',
                datatype:'json',
                success:function (data){
                    if(data==1){
                        alert('欢迎登录')
                        history.go(0)
                    }
                    else{
                        // alert('账号或密码错误')
                    }
                }
            })
        }
        else{
            alert('账号和密码不能为空')
        }

    }
</script>